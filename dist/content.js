(()=>{"use strict";({144:function(){var e=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(c,i){function r(e){try{d(o.next(e))}catch(e){i(e)}}function a(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?c(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((o=o.apply(e,t||[])).next())}))};const t="ndfHFb-c4YZDc-Wrql6b-LQLjdd",n="ndfHFb-c4YZDc-to915-LgbsSe ndfHFb-c4YZDc-C7uZwb-LgbsSe VIpgJd-TzA9Ye-eEGnhe ndfHFb-c4YZDc-LgbsSe ndfHFb-c4YZDc-C7uZwb-LgbsSe-SfQLQb-Bz112c",o=/^Page(\d+)\/\d+$/;function c(e){return Array.from(document.getElementsByClassName(e))}function i(e,t,n,o,i,r={}){const a=document.createElement("div");a.style.userSelect="none",a.textContent=e,a.className=n,a.ariaLabel=t,a.addEventListener("click",(t=>{r.toggleName&&(a.textContent=a.textContent!==r.toggleName?r.toggleName:e),i(t)}));const d=c(o);0===d.length?console.log(`Parent with classname ${o} not found to append a child.`):d[0].appendChild(a)}(6e3,new Promise((e=>setTimeout(e,6e3)))).then((()=>{const r=c("ndfHFb-c4YZDc-cYSp0e-Oz6c3e ndfHFb-c4YZDc-cYSp0e-DARUcf-gSKZZ ndfHFb-c4YZDc-neVct-RCfa3e")[0],a=c("wvGCSb-pnL5fc-KUPHr-zJtgdf wvGCSb-pnL5fc-WlKKfd-LgbsSe-ZiwkRe wvGCSb-efwuC"),d=r.style.left,s=a.map((e=>e.style.width));function f(){r.style.left="117px",a.forEach((e=>e.style.width="450px"))}function l(){r.style.left=d,a.forEach(((e,t)=>e.style.width=s[t]))}const u=c("ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf");function g(e){u.length<e-1||e-1<0?alert(`Page number ${e} is invalid!`):u[e-1].scrollIntoView({behavior:"smooth"})}chrome.storage.sync.get(document.location.href,(e=>{e&&e[document.location.href]&&g(Number.parseInt(e[document.location.href]))}));var b=!0;f(),document.addEventListener("fullscreenchange",f),document.addEventListener("resize",l),c("ndfHFb-c4YZDc-z5C9Gb-LgbsSe ndfHFb-c4YZDc-to915-LgbsSe VIpgJd-TzA9Ye-eEGnhe ndfHFb-c4YZDc-LgbsSe")[0].addEventListener("click",(e=>{var t;c("ndfHFb-c4YZDc-j7LFlb").forEach((e=>{"hide comments column"==e.innerText.toLowerCase()&&(t=e)})),t?t.addEventListener("click",f):console.log("Could not find on/off comment button.")})),i("Goto","Auto Scroll To A Page","ndfHFb-c4YZDc-DARUcf-NnAfwf-j4LONd better-drive-pdfview-hover-button","ndfHFb-c4YZDc-nJjxad-nK2kYb-i5oIFb",(e=>{const t=prompt("Specify the page number you would like to goto!");t&&(Number.isNaN(t)?alert(`Page number ${t} needs to be a number!`):g(Number.parseInt(t)))})),i("Toggle Align","Toggle UI Alignment",n,t,(e=>(b?l():f(),void(b=!b))));var m=!1;i("Dark Mode","Toggle Dark/Light Modes",n,t,(e=>{m=!m,r.style.filter=m?"invert(100%)":"unset"}),{toggleName:"Light Mode"}),i("Dictionary","Get a word definition",n,t,(t=>e(void 0,void 0,void 0,(function*(){const t=prompt("Type in the word you'd like to define! (default value copied from clibpoard)",(yield navigator.clipboard.readText()).replace(/[^A-Za-z]/g,""));t&&function(t){console.log(`Getting definition for ${t}.`);const n=`https://api.dictionaryapi.dev/api/v2/entries/en/${t}`;fetch(n,{method:"GET"}).then((o=>e(this,void 0,void 0,(function*(){if(200!=o.status)return console.error(`Dictionary request for "${t}" at ${n} returned ${o.status} code with "${o.text}".`);const e=(yield o.json())[0];var c="";e.phonetics.forEach((e=>{e.text&&(c=e.text)}));var i="";e.meanings.forEach((e=>{const t=e.definitions.map((e=>`\t ${e.definition}${0!==(e.example||"").trim().length?"\n\t e.g. "+e.example:""}`)).join("\n\n");i+=`${e.partOfSpeech} \n${t}\n\n`})),alert(`DEFINITION || ${e.word} || ${c}\n${i}`.trim())}))))}(t)}))));const h=new MutationObserver((e=>{if(e[0].target.textContent){const t=o.exec(e[0].target.textContent);if(!t)return void console.log(`PageNumber change ${e[0].target.textContent} failed regex.`);const n=t.at(1);if(!n||Number.isNaN(n))return void console.log(`PageNumber ${n} is not a number.`);chrome.runtime.sendMessage({lastReadPage:Number.parseInt(n)})}})),p=c("ndfHFb-c4YZDc-DARUcf-NnAfwf-i5oIFb")[0];h.observe(p,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}))}})[144]()})();